/*!
 * cxSlide 1.0
 * http://code.ciaoca.com/
 * https://github.com/ciaoca/cxSlide
 * E-mail: ciaoca@gmail.com
 * Released under the MIT license
 * Date: 2012-12-27
 */
!function(a){a.fn.cxSlide=function(b){var c,d,e,f;if(this.length&&(b=a.extend({},a.cxSlide.defaults,b),c=this,d={},d.fn={},d.box=c.find(".box"),d.list=d.box.find(".list"),d.items=d.list.find("li"),d.itemSum=d.items.length,!(d.itemSum<=1))){if(d.numList=c.find(".btn"),d.numBtns=d.numList.find("li"),d.plusBtn=c.find(".plus"),d.minusBtn=c.find(".minus"),d.boxWidth=d.box.width(),d.boxHeight=d.box.height(),d.s=0,b.btn&&!d.numList.length){for(e="",f=1;f<=d.itemSum;f++)e+="<li class='b_"+f+"'>"+f+"</li>";d.numList=a("<ul></ul>",{"class":"btn",html:e}).appendTo(c),d.numBtns=d.numList.find("li")}b.plus&&!d.plusBtn.length&&(d.plusBtn=a("<div></div>",{"class":"plus"}).appendTo(c)),b.minus&&!d.minusBtn.length&&(d.minusBtn=a("<div></div>",{"class":"minus"}).appendTo(c)),d.fn.on=function(){b.auto&&(d.fn.off(),d.run=setTimeout(function(){d.fn.goto()},b.time))},d.fn.off=function(){"undefined"!=typeof d.run&&clearTimeout(d.run)},d.fn.checkBtn=function(a){d.numList.length&&d.numBtns.eq(a).addClass("selected").siblings("li").removeClass("selected")},d.fn.goto=function(a){var c,e,f,g;if(d.fn.off(),c="undefined"==typeof a?d.s+1:parseInt(a,10),e=d.s,f=d.itemSum-1,c==d.s)return d.fn.on(),void 0;switch(c>f?c=0:0>c&&(c=f),d.fn.checkBtn(c),b.type){case"x":g=d.boxWidth*c,0==c&&e==f?(d.items.eq(0).css({left:d.boxWidth*d.itemSum}),g=d.boxWidth*d.itemSum):0==e&&(d.items.eq(0).css({left:""}),d.box.scrollLeft(0)),d.box.stop(!0,!1).animate({scrollLeft:g},b.speed);break;case"y":g=d.boxHeight*c,0==c&&e==f?(d.items.eq(0).css({top:d.boxHeight*d.itemSum}),g=d.boxHeight*d.itemSum):0==e&&(d.items.eq(0).css({top:""}),d.box.scrollTop(0)),d.box.stop(!0,!1).animate({scrollTop:g},b.speed);break;case"fade":d.items.css({display:"none",position:"absolute",top:0,left:0,zIndex:""}),d.items.eq(e).css({display:"",zIndex:1}),d.items.eq(c).css({zIndex:2}).fadeIn(b.speed);break;case"toggle":d.items.eq(c).show().siblings("li").hide()}d.s=c,d.box.queue(function(){d.fn.on(),d.box.dequeue()})},d.box.hover(function(){d.fn.off()},function(){d.fn.on()}),b.btn&&d.numList.delegate("li",b.events,function(){d.fn.goto(d.numBtns.index(a(this)))}),b.plus&&d.plusBtn.bind(b.events,function(){d.fn.goto()}),b.minus&&d.minusBtn.bind(b.events,function(){d.fn.goto(d.s-1)}),d.fn.checkBtn(b.start),d.fn.goto(b.start)}},a.cxSlide={defaults:{events:"click",type:"x",start:0,speed:800,time:5e3,auto:!0,btn:!0,plus:!1,minus:!1}}}(jQuery);